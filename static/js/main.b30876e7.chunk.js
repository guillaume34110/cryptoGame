(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,r){},22:function(e,t,r){"use strict";r.r(t);var n,a=r(0),c=r.n(a),i=r(13),o=r.n(i),l=r(4),s=r(2),y=r(10),p=["Bitcoin","ADA","Ether","BNB","Solana","XRP"],d=r(5),u=r(14),j=function(e,t){n&&n.destroy();for(var r=[],a=[],c=0;c<e.length;c++)r.push(c),a.push(t);var i=Math.min.apply(Math,Object(d.a)(e))-Math.max.apply(Math,Object(d.a)(e))/1e3;i<0&&(i=0);var o=Math.max.apply(Math,Object(d.a)(e))+Math.max.apply(Math,Object(d.a)(e))/1e3;n=new u.a(document.getElementById("line-chart"),{type:"line",options:{animation:!1,pointBorderWidth:0,pointRadius:0,hoverBorderWidth:0,hoverRadius:0,scales:{xAxis:{display:!1},yAxis:{min:i,max:o,grid:{drawBorder:!1},ticks:{beginAtZero:!1,fontSize:15,fontColor:"lightgrey",maxTicksLimit:5,padding:25}},yAxis1:{type:"linear",display:!1,position:"right",min:i,max:o,grid:{drawBorder:!1},ticks:{beginAtZero:!1,fontSize:15,fontColor:"red",maxTicksLimit:1,padding:25}}},plugins:{legend:{display:!1},tooltip:{display:!1,enabled:!1,mode:"single"}}},data:{labels:r,datasets:[{tooltip:!1,data:e,label:"crytpo",borderColor:"#3e95cd",fill:!1,yAxisID:"yAxis"},{tooltip:!1,data:a,label:"crytpo2",borderColor:"red",fill:!1,yAxisID:"yAxis1"}]}})},b=function(){n.destroy()},h=r(8),f=r.n(h),O=r(11),x=function(e,t,r){if(document.querySelector(".playground-main")){for(var a=r.index;a<500+r.index;a++)e.push(t[a]);e.slice(r.index,500+r.index),c=e,i=r.tickPriceData,n.data&&(n.destroy(),j(c,i))}var c,i},m=function(e,t,r){var n=e[e.length-1];r.currentPrice=n,t(n)},v=function(){var e=Object(O.a)(f.a.mark((function e(t,r,n,a){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===r.playerMonney&&(c=r.playerCrypto*r.currentPrice*r.fee,r.playerMonney=r.playerCrypto*r.currentPrice,r.playerMonney<0&&(r.playerMonney=-1*r.playerMonney),r.playerMonney=r.playerMonney-c),t({playerMonney:r.playerMonney,cryptoUnit:r.cryptoUnit}),a&&clearInterval(a),n("/");case 4:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),S=r.p+"static/media/BTC.82585eb7.txt",g=r.p+"static/media/ADA.8e5834d5.txt",M=r.p+"static/media/BNB.f42ca6e8.txt",P=r.p+"static/media/ETH.1269a9e2.txt",C=r.p+"static/media/SOL.360b1f16.txt",B=r.p+"static/media/XRP.4f902e13.txt",w=function(){var e=Object(O.a)(f.a.mark((function e(t,r){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(r),"bitcoin"===r?n=S:"ADA"===r?n=g:"BNB"===r?n=M:"Ether"===r?n=P:"Solana"===r?n=C:"XRP"===r&&(n=B),fetch(n).then((function(e){return e.text()})).then((function(e){var r=JSON.parse(e);N(t,r)}));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),N=function(e,t){var r=t.array,n=Math.random()*(r.length-1e4);e(r=r.slice(n,n+1e4))},D=r(1),k=!1,I={index:0},A=function(e){var t=e.stateDatas,r=e.setStateDatas,n=Object(a.useState)(),c=Object(l.a)(n,2),i=c[0],o=c[1],y=Object(s.f)();Object(a.useEffect)((function(){var e=0;if(k)window.localStorage.setItem("myWallet",t.playerMonney),e=t.playerMonney;else{k=!0,console.log(window.localStorage);var n=window.localStorage.getItem("myWallet");n?(r({playerMonney:n,cryptoUnit:t.cryptoUnit}),e=n):window.localStorage.setItem("myWallet",t.playerMonney)}0===e&&(r({playerMonney:1e3,cryptoUnit:t.cryptoUnit}),window.localStorage.setItem("myWallet",1e3)),I.index=0,w(o,"bitcoin")}),[]),Object(a.useEffect)((function(){if(i){for(var e=[],t=0;t<500;t++)e.push(i[t]);I.index=0,j(e,I.currentPrice),d()}}),[i]);var d=function(){var e=setInterval((function(){document.querySelector(".menu")||(b(),clearInterval(e));x([],i,I)}),200);return function(){return clearInterval(e)}};return Object(D.jsxs)("div",{className:"menu",children:[Object(D.jsx)("h1",{children:"CryptoGame"}),Object(D.jsxs)("div",{className:"main-section",children:[Object(D.jsx)("div",{className:"left-section",children:Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{children:"Wallet :"}),Object(D.jsx)("div",{children:Object(D.jsxs)("p",{children:[t.playerMonney,"$"]})})]})}),Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{htmlFor:"crypto",children:"Crypto :"}),Object(D.jsxs)("select",{id:"crypto",onChange:function(e){r({playerMonney:t.playerMonney,cryptoUnit:e.target.value})},children:["$",p.map((function(e,t){return Object(D.jsx)("option",{value:e,children:e},t)}))]})]})]}),Object(D.jsx)("div",{className:"play",onClick:function(){y("/playground")},children:Object(D.jsx)("p",{children:"Play"})})]})},U={fee:4e-5,currentPrice:0,index:0,sellShort:"Buy Short",longSell:"Buy Long",orderPrice:0,tickPriceData:0,playerCrypto:0,playerCurrentFee:0,playerMonney:0,cryptoUnit:"btc"},F=function(e){var t=e.stateDatas,r=e.setStateDatas,n=Object(a.useState)(),c=Object(l.a)(n,2),i=c[0],o=c[1],y=Object(a.useState)(0),p=Object(l.a)(y,2),d=p[0],u=p[1],h=Object(a.useState)(0),f=Object(l.a)(h,2),O=f[0],S=f[1],g=Object(a.useState)("Buy Short"),M=Object(l.a)(g,2),P=M[0],C=M[1],B=Object(a.useState)("Buy Long"),N=Object(l.a)(B,2),k=N[0],I=N[1],A=Object(a.useState)("transparent"),F=Object(l.a)(A,2),L=F[0],E=F[1],W=Object(a.useState)(0),T=Object(l.a)(W,2),R=T[0],$=T[1],q=Object(a.useState)(0),J=Object(l.a)(q,2),X=J[0],z=J[1],G=Object(a.useState)(0),Z=Object(l.a)(G,2),H=Z[0],K=Z[1],Q=Object(a.useState)(0),V=Object(l.a)(Q,2),Y=V[0],_=V[1],ee=Object(s.f)();Object(a.useEffect)((function(){w(o,t.cryptoUnit)}),[]),Object(a.useEffect)((function(){if(i){for(var e=[],r=0;r<500;r++)e.push(i[r]);U.index=0,_(0),m(e,S,U),j(e,U.currentPrice),U.playerMonney=t.playerMonney,U.cryptoUnit=t.cryptoUnit,u(t.playerMonney),te()}}),[i]);var te=function(){var e=setInterval((function(){document.querySelector(".playground-main")||(b(),clearInterval(e)),U.index++,_(U.index);var t,n=[];x(n,i,U),m(n,S,U),0===(t=U).orderPrice?t.tickPriceData=t.currentPrice:t.tickPriceData=t.orderPrice,function(e,t){""===e.longSell?(e.currentPrice>e.orderPrice&&t("green"),e.currentPrice<=e.orderPrice&&t("red")):""===e.sellShort?(e.currentPrice>e.orderPrice&&t("red"),e.currentPrice<=e.orderPrice&&t("green")):t("transparent")}(U,E),function(e,t){t.orderPrice>0&&""===t.longSell?e((t.currentPrice-t.orderPrice)*t.playerCrypto-t.playerCurrentFee-t.playerCrypto*t.currentPrice*t.fee):t.orderPrice>0&&""===t.sellShort?e((t.orderPrice-t.currentPrice)*-t.playerCrypto-t.playerCurrentFee- -t.playerCrypto*t.currentPrice*t.fee):e(0)}(K,U),U.index>=1e4&&v(r,U,ee,e)}),200);return function(){return clearInterval(e)}};return Object(D.jsxs)("main",{className:" playground-main",children:[Object(D.jsxs)("section",{children:[Object(D.jsxs)("div",{children:[Object(D.jsxs)("h2",{className:"current-price",children:["current price :",O,"$"]}),Object(D.jsxs)("h2",{className:"order "+L,children:["Order at : ",X]}),Object(D.jsxs)("h2",{className:"gain",children:["Gain : ",H,"$"]})]}),Object(D.jsxs)("div",{children:[Object(D.jsxs)("h2",{className:"user-money",children:["monney : ",d," $ / ",R," ",t.cryptoUnit]}),Object(D.jsx)("h2",{children:" fee : 0.004% "}),Object(D.jsxs)("h2",{className:"index",children:[Y,"/10000"]})]})]}),Object(D.jsx)("div",{className:"chart",children:Object(D.jsx)("canvas",{id:"line-chart",width:"800",height:"450"})}),Object(D.jsxs)("section",{className:"buy-sell",children:[Object(D.jsx)("div",{className:"sell-btn btn",onClick:function(){if(U.playerMonney>0){U.playerCurrentFee=t.playerMonney*U.fee;var e=(t.playerMonney-t.playerMonney*U.fee)/O;$(e),U.playerCrypto=e,U.playerMonney=0,u(0),C("Sell"),U.sellShort="Sell",I(""),U.longSell="",z(O),U.orderPrice=O}else 0===U.playerMonney&&R<0&&(U.playerMonney=-R*O-R*O*U.fee,u(U.playerMonney),$(0),U.playerCrypto=0,C("Buy Short"),U.sellShort="Buy Short",I("Buy Long"),U.longSell="Buy Long",z(0),U.orderPrice=0)},children:k}),Object(D.jsx)("div",{className:"return-btn btn",onClick:function(){v(r,U,ee)},children:"Menu"}),Object(D.jsx)("div",{className:"buy-btn btn",onClick:function(){if(0===U.playerMonney&&R>0)U.playerMonney=R*O-R*O*U.fee,u(U.playerMonney),$(0),U.playerCrypto=0,C("Buy Short"),U.sellShort="Buy Short",I("Buy Long"),U.longSell="Buy Long",z(0),U.orderPrice=0;else if(U.playerMonney>0&&0===R){U.playerCurrentFee=U.playerMonney*U.fee;var e=-(U.playerMonney-U.playerMonney*U.fee)/O;$(e),U.playerCrypto=e,U.playerMonney=0,u(0),C(""),U.sellShort="",I("Sell"),U.longSell="Sell",z(O),U.orderPrice=O}},children:P})]})]})},L=(r(21),function(){var e=Object(a.useState)({playerMonney:1e3,cryptoUnit:"bitcoin"}),t=Object(l.a)(e,2),r=t[0],n=t[1];return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)(s.c,{children:[Object(D.jsx)(s.a,{path:"/",element:Object(D.jsx)(A,{stateDatas:r,setStateDatas:n})}),Object(D.jsx)(s.a,{path:"/playground",element:Object(D.jsx)(F,{stateDatas:r,setStateDatas:n})})]})})});var E=function(){return Object(D.jsx)(y.a,{children:Object(D.jsx)(L,{})})},W=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,23)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))};o.a.render(Object(D.jsx)(c.a.StrictMode,{children:Object(D.jsx)(E,{})}),document.getElementById("root")),W()}},[[22,1,2]]]);
//# sourceMappingURL=main.b30876e7.chunk.js.map
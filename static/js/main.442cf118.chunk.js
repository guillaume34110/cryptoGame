(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,r){},22:function(e,t,r){"use strict";r.r(t);var n,a=r(0),c=r.n(a),i=r(13),l=r.n(i),o=r(4),s=r(2),y=r(10),p=["Bitcoin","ADA","Ether","BNB","Solana","XRP"],d=r(1),u=!1,j=function(e){var t=e.stateDatas,r=e.setStateDatas,n=Object(s.f)();return Object(a.useEffect)((function(){var e=0;if(u)window.localStorage.setItem("myWallet",t.playerMonney),e=t.playerMonney;else{u=!0,console.log(window.localStorage);var n=window.localStorage.getItem("myWallet");n?(r({playerMonney:n,cryptoUnit:t.cryptoUnit}),e=n):window.localStorage.setItem("myWallet",t.playerMonney)}0===e&&(r({playerMonney:1e3,cryptoUnit:t.cryptoUnit}),window.localStorage.setItem("myWallet",1e3))}),[]),Object(d.jsxs)("div",{className:"menu",children:[Object(d.jsx)("h1",{children:"CryptoGame"}),Object(d.jsxs)("div",{className:"main-section",children:[Object(d.jsx)("div",{className:"left-section",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"Wallet :"}),Object(d.jsx)("div",{children:Object(d.jsxs)("p",{children:[t.playerMonney,"$"]})})]})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"crypto",children:"Crypto :"}),Object(d.jsxs)("select",{id:"crypto",onChange:function(e){r({playerMonney:t.playerMonney,cryptoUnit:e.target.value})},children:["$",p.map((function(e,t){return Object(d.jsx)("option",{value:e,children:e},t)}))]})]})]}),Object(d.jsx)("div",{className:"play",onClick:function(){n("/playground")},children:Object(d.jsx)("p",{children:"Play"})})]})},h=r(5),b=r(14),f=function(e,t){n&&n.destroy();for(var r=[],a=[],c=0;c<e.length;c++)r.push(c),a.push(t);var i=Math.min.apply(Math,Object(h.a)(e))-Math.max.apply(Math,Object(h.a)(e))/1e3;i<0&&(i=0);var l=Math.max.apply(Math,Object(h.a)(e))+Math.max.apply(Math,Object(h.a)(e))/1e3;n=new b.a(document.getElementById("line-chart"),{type:"line",options:{animation:!1,pointBorderWidth:0,pointRadius:0,hoverBorderWidth:0,hoverRadius:0,scales:{xAxis:{display:!1},yAxis:{min:i,max:l,grid:{drawBorder:!1},ticks:{beginAtZero:!1,fontSize:15,fontColor:"lightgrey",maxTicksLimit:5,padding:25}},yAxis1:{type:"linear",display:!1,position:"right",min:i,max:l,grid:{drawBorder:!1},ticks:{beginAtZero:!1,fontSize:15,fontColor:"red",maxTicksLimit:1,padding:25}}},plugins:{legend:{display:!1},tooltip:{display:!1,enabled:!1,mode:"single"}}},data:{labels:r,datasets:[{tooltip:!1,data:e,label:"crytpo",borderColor:"#3e95cd",fill:!1,yAxisID:"yAxis"},{tooltip:!1,data:a,label:"crytpo2",borderColor:"red",fill:!1,yAxisID:"yAxis1"}]}})},O=r(8),x=r.n(O),m=r(11),g=function(e,t,r){if(document.querySelector(".playground-main")){for(var a=r.index;a<500+r.index;a++)e.push(t[a]);e.slice(r.index,500+r.index),c=e,i=r.tickPriceData,n.data&&(n.destroy(),f(c,i))}var c,i},S=function(e,t,r){var n=e[e.length-1];r.currentPrice=n,t(n)},v=function(){var e=Object(m.a)(x.a.mark((function e(t,r,n,a){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===r.playerMonney&&(c=r.playerCrypto*r.currentPrice*r.fee,r.playerMonney=r.playerCrypto*r.currentPrice,r.playerMonney<0&&(r.playerMonney=-1*r.playerMonney),r.playerMonney=r.playerMonney-c),t({playerMonney:r.playerMonney,cryptoUnit:r.cryptoUnit}),a&&clearInterval(a),n("/");case 4:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),M=r.p+"static/media/BTC.82585eb7.txt",P=r.p+"static/media/ADA.8e5834d5.txt",C=r.p+"static/media/BNB.f42ca6e8.txt",B=r.p+"static/media/ETH.1269a9e2.txt",w=r.p+"static/media/SOL.360b1f16.txt",N=r.p+"static/media/XRP.4f902e13.txt",D=function(){var e=Object(m.a)(x.a.mark((function e(t,r){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(r),"bitcoin"===r?n=M:"ADA"===r?n=P:"BNB"===r?n=C:"Ether"===r?n=B:"Solana"===r?n=w:"XRP"===r&&(n=N),fetch(n).then((function(e){return e.text()})).then((function(e){var r=JSON.parse(e);k(t,r)}));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),k=function(e,t){var r=t.array,n=Math.random()*(r.length-1e4);e(r=r.slice(n,n+1e4))},A={fee:.004,currentPrice:0,index:0,sellShort:"Buy Short",longSell:"Buy Long",orderPrice:0,tickPriceData:0,playerCrypto:0,playerCurrentFee:0,playerMonney:0,cryptoUnit:"btc"},I=function(e){var t=e.stateDatas,r=e.setStateDatas,c=Object(a.useState)(),i=Object(o.a)(c,2),l=i[0],y=i[1],p=Object(a.useState)(0),u=Object(o.a)(p,2),j=u[0],h=u[1],b=Object(a.useState)(0),O=Object(o.a)(b,2),x=O[0],m=O[1],M=Object(a.useState)("Buy Short"),P=Object(o.a)(M,2),C=P[0],B=P[1],w=Object(a.useState)("Buy Long"),N=Object(o.a)(w,2),k=N[0],I=N[1],U=Object(a.useState)("transparent"),F=Object(o.a)(U,2),L=F[0],E=F[1],W=Object(a.useState)(0),T=Object(o.a)(W,2),R=T[0],$=T[1],J=Object(a.useState)(0),X=Object(o.a)(J,2),q=X[0],z=X[1],G=Object(a.useState)(0),Z=Object(o.a)(G,2),H=Z[0],K=Z[1],Q=Object(a.useState)(0),V=Object(o.a)(Q,2),Y=V[0],_=V[1],ee=Object(s.f)();Object(a.useEffect)((function(){D(y,t.cryptoUnit)}),[]),Object(a.useEffect)((function(){if(l){for(var e=[],r=0;r<500;r++)e.push(l[r]);A.index=0,_(0),S(e,m,A),f(e,A.currentPrice),A.playerMonney=t.playerMonney,A.cryptoUnit=t.cryptoUnit,h(t.playerMonney),te()}}),[l]);var te=function(){var e=setInterval((function(){document.querySelector(".playground-main")||(n.destroy(),clearInterval(e)),A.index++,_(A.index);var t,a=[];g(a,l,A),S(a,m,A),0===(t=A).orderPrice?t.tickPriceData=t.currentPrice:t.tickPriceData=t.orderPrice,function(e,t){""===e.longSell?(e.currentPrice>e.orderPrice&&t("green"),e.currentPrice<=e.orderPrice&&t("red")):""===e.sellShort?(e.currentPrice>e.orderPrice&&t("red"),e.currentPrice<=e.orderPrice&&t("green")):t("transparent")}(A,E),function(e,t){t.orderPrice>0&&""===t.longSell?e((t.currentPrice-t.orderPrice)*t.playerCrypto-t.playerCurrentFee-t.playerCrypto*t.currentPrice*t.fee):t.orderPrice>0&&""===t.sellShort?e((t.orderPrice-t.currentPrice)*-t.playerCrypto-t.playerCurrentFee- -t.playerCrypto*t.currentPrice*t.fee):e(0)}(K,A),A.index>=1e4&&v(r,A,ee,e)}),200);return function(){return clearInterval(e)}};return Object(d.jsxs)("main",{className:" playground-main",children:[Object(d.jsxs)("section",{children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("h2",{className:"current-price",children:["current price :",x,"$"]}),Object(d.jsxs)("h2",{className:"order "+L,children:["Order at : ",q]}),Object(d.jsxs)("h2",{className:"gain",children:["Gain : ",H,"$"]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("h2",{className:"user-money",children:["monney : ",j," $ / ",R," ",t.cryptoUnit]}),Object(d.jsx)("h2",{children:" fee : 0.004% "}),Object(d.jsxs)("h2",{className:"index",children:[Y,"/10000"]})]})]}),Object(d.jsx)("div",{className:"chart",children:Object(d.jsx)("canvas",{id:"line-chart",width:"800",height:"450"})}),Object(d.jsxs)("section",{className:"buy-sell",children:[Object(d.jsx)("div",{className:"sell-btn btn",onClick:function(){if(A.playerMonney>0){A.playerCurrentFee=t.playerMonney*A.fee;var e=(t.playerMonney-t.playerMonney*A.fee)/x;$(e),A.playerCrypto=e,A.playerMonney=0,h(0),B("Sell"),A.sellShort="Sell",I(""),A.longSell="",z(x),A.orderPrice=x}else 0===A.playerMonney&&R<0&&(A.playerMonney=-(R*x-R*x*A.fee),h(A.playerMonney),$(0),A.playerCrypto=0,B("Buy Short"),A.sellShort="Buy Short",I("Buy Long"),A.longSell="Buy Long",z(0),A.orderPrice=0)},children:k}),Object(d.jsx)("div",{className:"return-btn btn",onClick:function(){v(r,A,ee)},children:"Menu"}),Object(d.jsx)("div",{className:"buy-btn btn",onClick:function(){if(0===A.playerMonney&&R>0)A.playerMonney=R*x-R*x*A.fee,h(A.playerMonney),$(0),A.playerCrypto=0,B("Buy Short"),A.sellShort="Buy Short",I("Buy Long"),A.longSell="Buy Long",z(0),A.orderPrice=0;else if(A.playerMonney>0&&0===R){A.playerCurrentFee=t.playerMonney*A.fee;var e=-(t.playerMonney-t.playerMonney*A.fee)/x;$(e),A.playerCrypto=e,A.playerMonney=0,h(0),B(""),A.sellShort="",I("Sell"),A.longSell="Sell",z(x),A.orderPrice=x}},children:C})]})]})},U=(r(21),function(){var e=Object(a.useState)({playerMonney:1e3,cryptoUnit:"bitcoin"}),t=Object(o.a)(e,2),r=t[0],n=t[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(s.c,{children:[Object(d.jsx)(s.a,{path:"/",element:Object(d.jsx)(j,{stateDatas:r,setStateDatas:n})}),Object(d.jsx)(s.a,{path:"/playground",element:Object(d.jsx)(I,{stateDatas:r,setStateDatas:n})})]})})});var F=function(){return Object(d.jsx)(y.a,{children:Object(d.jsx)(U,{})})},L=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,23)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))};l.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(F,{})}),document.getElementById("root")),L()}},[[22,1,2]]]);
//# sourceMappingURL=main.442cf118.chunk.js.map
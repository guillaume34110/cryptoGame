(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,r){},22:function(e,t,r){"use strict";r.r(t);var n,a=r(0),c=r.n(a),i=r(13),l=r.n(i),o=r(4),s=r(2),y=r(10),p=["Bitcoin","ADA","Ether","BNB","Solana","XRP"],d=r(5),u=r(14),h={display:!0},j=function(e,t){n&&n.destroy();for(var r=[],a=[],c=0;c<e.length;c++)r.push(c),a.push(t);var i=Math.min.apply(Math,Object(d.a)(e))-Math.max.apply(Math,Object(d.a)(e))/1e3;i<0&&(i=0);var l=Math.max.apply(Math,Object(d.a)(e))+Math.max.apply(Math,Object(d.a)(e))/1e3;n=new u.a(document.getElementById("line-chart"),{type:"line",options:{animation:!1,pointBorderWidth:0,pointRadius:0,hoverBorderWidth:0,hoverRadius:0,scales:{xAxis:{display:!1},yAxis:{display:h.display,min:i,max:l,grid:{drawBorder:!1},ticks:{beginAtZero:!1,fontSize:15,fontColor:"lightgrey",maxTicksLimit:5,padding:25}},yAxis1:{type:"linear",display:!1,position:"right",min:i,max:l,grid:{drawBorder:!1},ticks:{beginAtZero:!1,fontSize:15,fontColor:"red",maxTicksLimit:1,padding:25}}},plugins:{legend:{display:!1},tooltip:{display:!1,enabled:!1,mode:"single"}}},data:{labels:r,datasets:[{tooltip:!1,data:e,label:"crytpo",borderColor:"#6d8700",fill:!1,yAxisID:"yAxis"},{tooltip:!1,data:a,label:"crytpo2",borderColor:"red",fill:!1,yAxisID:"yAxis1"}]}})},b=function(){n.destroy()},f=r(8),O=r.n(f),x=r(11),m=function(e,t,r){for(var a=r.index;a<500+r.index;a++)e.push(t[a]);var c,i;e.slice(r.index,500+r.index),c=e,i=r.tickPriceData,n.data&&j(c,i)},g=function(e,t,r){var n=e[e.length-1];r.currentPrice=n,t(n)},S=function(e){0===e.orderPrice?e.tickPriceData=e.currentPrice:e.tickPriceData=e.orderPrice},v=function(){var e=Object(x.a)(O.a.mark((function e(t,r,n,a){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===r.playerMonney&&(c=r.playerCrypto*r.currentPrice*r.fee,r.playerMonney=r.playerCrypto*r.currentPrice,r.playerMonney<0&&(r.playerMonney=-1*r.playerMonney),r.playerMonney=r.playerMonney-c),t({playerMonney:r.playerMonney,cryptoUnit:r.cryptoUnit}),a&&clearInterval(a),n("/");case 4:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),M=r.p+"static/media/BTC.82585eb7.txt",P=r.p+"static/media/ADA.8e5834d5.txt",w=r.p+"static/media/BNB.f42ca6e8.txt",C=r.p+"static/media/ETH.1269a9e2.txt",B=r.p+"static/media/SOL.360b1f16.txt",N=r.p+"static/media/XRP.4f902e13.txt",D=function(){var e=Object(x.a)(O.a.mark((function e(t,r){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(r),"bitcoin"===r?n=M:"ADA"===r?n=P:"BNB"===r?n=w:"Ether"===r?n=C:"Solana"===r?n=B:"XRP"===r&&(n=N),fetch(n).then((function(e){return e.text()})).then((function(e){var r=JSON.parse(e);k(t,r)}));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),k=function(e,t){var r=t.array,n=Math.random()*(r.length-1e4);e(r=r.slice(n,n+1e4))},I=r(1),A=!1,U={fee:4e-5,currentPrice:0,index:0,sellShort:"Buy Short",longSell:"Buy Long",orderPrice:0,tickPriceData:0,playerCrypto:0,playerCurrentFee:0,playerMonney:0,cryptoUnit:"btc"},F=function(e){var t=e.stateDatas,r=e.setStateDatas,n=Object(a.useState)(),c=Object(o.a)(n,2),i=c[0],l=c[1],y=Object(a.useState)({width:600,height:600}),d=Object(o.a)(y,2),u=d[0],f=d[1],O=Object(s.f)();Object(a.useEffect)((function(){var e=0;if(x(),h.display=!1,A)window.localStorage.setItem("myWallet",t.playerMonney),e=t.playerMonney;else{A=!0,console.log(window.localStorage);var n=window.localStorage.getItem("myWallet");n?(r({playerMonney:n,cryptoUnit:t.cryptoUnit}),e=n):window.localStorage.setItem("myWallet",t.playerMonney)}0===e&&(r({playerMonney:1e3,cryptoUnit:t.cryptoUnit}),window.localStorage.setItem("myWallet",1e3)),U.index=0,D(l,"bitcoin")}),[]);var x=function(){f({width:window.innerWidth,height:window.innerHeight})};Object(a.useEffect)((function(){if(i){for(var e=[],t=0;t<500;t++)e.push(i[t]);U.index=0,j(e,U.currentPrice),g()}}),[i]);var g=function(){var e=setInterval((function(){document.querySelector(".menu")||(b(),clearInterval(e));U.index++,S(U),m([],i,U)}),200);return function(){return clearInterval(e)}};return Object(I.jsxs)("div",{className:"menu",children:[Object(I.jsx)("h1",{children:"CryptoGame"}),Object(I.jsxs)("div",{className:"main-section",children:[Object(I.jsx)("div",{className:"left-section",children:Object(I.jsxs)("div",{children:[Object(I.jsx)("p",{children:"Wallet :"}),Object(I.jsx)("div",{children:Object(I.jsxs)("p",{children:[t.playerMonney,"$"]})})]})}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{htmlFor:"crypto",children:"Crypto :"}),Object(I.jsxs)("select",{id:"crypto",onChange:function(e){r({playerMonney:t.playerMonney,cryptoUnit:e.target.value})},children:["$",p.map((function(e,t){return Object(I.jsx)("option",{value:e,children:e},t)}))]})]})]}),Object(I.jsx)("div",{className:"play",onClick:function(){O("/playground")},children:Object(I.jsx)("p",{children:"Play"})}),Object(I.jsx)("div",{className:"menu-chart",children:Object(I.jsx)("canvas",{id:"line-chart",width:u.width+"px",height:u.height+"px"})})]})},L={fee:4e-5,currentPrice:0,index:0,sellShort:"Buy Short",longSell:"Buy Long",orderPrice:0,tickPriceData:0,playerCrypto:0,playerCurrentFee:0,playerMonney:0,cryptoUnit:"btc"},E=function(e){var t=e.stateDatas,r=e.setStateDatas,n=Object(a.useState)(),c=Object(o.a)(n,2),i=c[0],l=c[1],y=Object(a.useState)(0),p=Object(o.a)(y,2),d=p[0],u=p[1],f=Object(a.useState)(0),O=Object(o.a)(f,2),x=O[0],M=O[1],P=Object(a.useState)("Buy Short"),w=Object(o.a)(P,2),C=w[0],B=w[1],N=Object(a.useState)("Buy Long"),k=Object(o.a)(N,2),A=k[0],U=k[1],F=Object(a.useState)("transparent"),E=Object(o.a)(F,2),W=E[0],T=E[1],R=Object(a.useState)(0),$=Object(o.a)(R,2),q=$[0],H=$[1],J=Object(a.useState)(0),X=Object(o.a)(J,2),z=X[0],G=X[1],Z=Object(a.useState)(0),K=Object(o.a)(Z,2),Q=K[0],V=K[1],Y=Object(a.useState)(0),_=Object(o.a)(Y,2),ee=_[0],te=_[1],re=Object(a.useState)({width:600,height:600}),ne=Object(o.a)(re,2),ae=ne[0],ce=ne[1],ie=Object(s.f)();Object(a.useEffect)((function(){h.display=!0,le(),D(l,t.cryptoUnit)}),[]);var le=function(){ce({width:window.innerWidth,height:window.innerHeight/1.6})};Object(a.useEffect)((function(){if(i){for(var e=[],r=0;r<500;r++)e.push(i[r]);L.index=0,te(0),g(e,M,L),j(e,L.currentPrice),L.playerMonney=t.playerMonney,L.cryptoUnit=t.cryptoUnit,u(t.playerMonney),oe()}}),[i]);var oe=function(){var e=setInterval((function(){document.querySelector(".playground-main")||(b(),clearInterval(e)),L.index++,te(L.index);var t=[];document.querySelector(".playground-main")&&(m(t,i,L),g(t,M,L),S(L),function(e,t){""===e.longSell?(e.currentPrice>e.orderPrice&&t("green"),e.currentPrice<=e.orderPrice&&t("red")):""===e.sellShort?(e.currentPrice>e.orderPrice&&t("red"),e.currentPrice<=e.orderPrice&&t("green")):t("transparent")}(L,T),function(e,t){t.orderPrice>0&&""===t.longSell?e((t.currentPrice-t.orderPrice)*t.playerCrypto-t.playerCurrentFee-t.playerCrypto*t.currentPrice*t.fee):t.orderPrice>0&&""===t.sellShort?e((t.orderPrice-t.currentPrice)*-t.playerCrypto-t.playerCurrentFee- -t.playerCrypto*t.currentPrice*t.fee):e(0)}(V,L)),L.index>=9500&&v(r,L,ie,e)}),200);return function(){return clearInterval(e)}};return Object(I.jsxs)("main",{className:" playground-main",children:[Object(I.jsxs)("section",{children:[Object(I.jsxs)("div",{className:"playground-top",children:[Object(I.jsxs)("h2",{className:"current-price",children:["current price :",x,"$"]}),Object(I.jsxs)("h2",{className:"order "+W,children:["Order at : ",z]}),Object(I.jsxs)("h2",{className:"gain",children:["Gain : ",Q,"$"]})]}),Object(I.jsxs)("div",{className:"playground-top",children:[Object(I.jsxs)("h2",{className:"user-money",children:["monney : ",d," $ / ",q," ",t.cryptoUnit]}),Object(I.jsx)("h2",{children:" fee : 0.004% "}),Object(I.jsxs)("h2",{className:"index",children:[ee,"/9500"]})]})]}),Object(I.jsx)("div",{className:"chart",children:Object(I.jsx)("canvas",{id:"line-chart",width:ae.width+"px",height:ae.height+"px"})}),Object(I.jsxs)("section",{className:"buy-sell",children:[Object(I.jsx)("div",{className:"return-btn btn",onClick:function(){v(r,L,ie)},children:"Menu"}),Object(I.jsx)("div",{className:"sell-btn btn",onClick:function(){if(L.playerMonney>0){L.playerCurrentFee=t.playerMonney*L.fee;var e=(t.playerMonney-t.playerMonney*L.fee)/x;H(e),L.playerCrypto=e,L.playerMonney=0,u(0),B("Sell"),L.sellShort="Sell",U(""),L.longSell="",G(x),L.orderPrice=x}else 0===L.playerMonney&&q<0&&(L.playerMonney=-(q*z+(q*z-q*x))+q*x*L.fee,u(L.playerMonney),H(0),L.playerCrypto=0,B("Buy Short"),L.sellShort="Buy Short",U("Buy Long"),L.longSell="Buy Long",G(0),L.orderPrice=0)},children:A}),Object(I.jsx)("div",{className:"buy-btn btn",onClick:function(){if(0===L.playerMonney&&q>0)L.playerMonney=q*x-q*x*L.fee,u(L.playerMonney),H(0),L.playerCrypto=0,B("Buy Short"),L.sellShort="Buy Short",U("Buy Long"),L.longSell="Buy Long",G(0),L.orderPrice=0;else if(L.playerMonney>0&&0===q){L.playerCurrentFee=L.playerMonney*L.fee;var e=-(L.playerMonney-L.playerMonney*L.fee)/x;H(e),L.playerCrypto=e,L.playerMonney=0,u(0),B(""),L.sellShort="",U("Sell"),L.longSell="Sell",G(x),L.orderPrice=x}},children:C})]})]})},W=(r(21),function(){var e=Object(a.useState)({playerMonney:1e3,cryptoUnit:"bitcoin"}),t=Object(o.a)(e,2),r=t[0],n=t[1];return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(s.c,{children:[Object(I.jsx)(s.a,{path:"/",element:Object(I.jsx)(F,{stateDatas:r,setStateDatas:n})}),Object(I.jsx)(s.a,{path:"/playground",element:Object(I.jsx)(E,{stateDatas:r,setStateDatas:n})})]})})});var T=function(){return Object(I.jsx)(y.a,{children:Object(I.jsx)(W,{})})},R=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,23)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))};l.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(T,{})}),document.getElementById("root")),R()}},[[22,1,2]]]);
//# sourceMappingURL=main.2324aac8.chunk.js.map